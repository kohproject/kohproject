$start: #d18cba;
$end: #6cd1fd;
$notesBlue: #2f7eb6;
$expandedNotes: #18547e;
$expandedNotes: $notesBlue;
$femaleRed: #b52662;

@keyframes flip1 {
  100% {
    transform: rotateX(-180deg);
  }
}

@keyframes spin {
  100% {
    transform: rotate(300deg);
  }
}
@keyframes spin2 {
  100% {
    transform: rotate(-300deg);
  }
}

.box.box-grid {
  position: relative;
  height: 118px;
  padding: 0px !important;
  background: transparent;
  visibility: hidden;
  transition: height 0.2s ease;
  * {
    visibility: hidden;
  }
  div {
    backface-visibility: hidden;
    transform-style: preserve-3d;
  }
  div.over-inner {
    position: relative;
    width: 100%;
    height: 100%;
  }
  div.over-outer {
    position: absolute;
    width: 0%;
    height: 100%;
    overflow: hidden;
    top: 0px;
    right: 0px;
    background: green;
    z-index: 999;
    transform-style: unset;
    transition: width 0.2s ease;
    * {
      display: none;
    }
  }

  a.link-close-grid {
    opacity: 0;
    transition: opacity 0.2s ease-in-out;
  }

  a.link__blank {
    display: block;
    width: 100%;
    height: 60px;
    position: absolute;
    top: 120px;
    left: 0px;
    opacity: 0;
    display: none;
  }
  .wrap__social {
    position: relative;
    transform-style: unset;
    display: block;
    width: 100%;
    opacity: 1;
    position: absolute;
    top: 0px;

    ol {
      display: flex;
      flex-direction: row;
      height: 100%;
      max-width: 130px;
      margin-left: 20px;
      margin-top: 12px;
      justify-content: flex-start;
      position: relative;
      > li {
        width: 38px;
        margin-left: 12px;
        height: 100%;
        display: inline-block;

        a {
          display: inline-block;
          height: 36px;
          min-width: 33px;
          width: 100%;
          z-index: 999999999;
          pointer-events: none;
          > em {
            display: block;
            width: 38px;
            height: 36px;
            position: absolute;
            overflow: hidden;
            opacity: 0.3;
            mix-blend-mode: multiply;

            background: url(../imgs/sprite/social-icon__sprite.png) no-repeat
              0px -40px;
          }
        }
      }
      > li:nth-child(1) {
        margin-left: 0px;
      }
      > li.li__facebook > a > em {
        background: url(../imgs/sprite/social-icon__sprite.png) no-repeat -38px -40px;
      }
      > li.li__instagram > a > em {
        background: url(../imgs/sprite/social-icon__sprite.png) no-repeat -76px -40px;
      }
    }
  }

  .wrap__domain {
    position: relative;
    transform-style: unset;
    display: block;
    width: 100%;
    opacity: 1;
    position: absolute;
    top: 55px;
  }
  .flipper-second {
    top: 0px;
    height: auto;
    width: 100%;
    transform-origin: top;
    background: #fff;
    perspective: 1500px;
    transform: rotateX(-180deg);
  }
  .full-flipper {
    position: relative;
    height: 118px;
    perspective: 200px;
    transform: rotateX(0deg);
    transition: transform 0.2s ease;
    width: 100%;
    z-index: 0;

    .box-grid-inner {
      background-color: #252809;
      background-color: lighten($end, 30%);
      border: solid 4px darken($end, 30%);
      height: 118px;
      width: 100%;
      color: #fff;
      position: absolute;
      z-index: 1;
      top: 0px;
      left: 0px;
      transform: rotateX(0deg);
      transform-origin: bottom;
      transition: transform 0.2s ease-in;
      h5,
      p {
        position: absolute;
        top: 12px;
        left: 24px;
        margin: 0px;
        color: rgb(239, 255, 10);
      }
      h5 {
        font-size: 30px;
      }
      p {
        bottom: 12px;
        left: 24px;
        top: auto;
      }
    }

    .flipper {
      position: absolute;
      top: 0px;
      left: 0px;
      perspective: 200px;
      height: 100%;
      width: 100%;
      transform: rotateX(-180deg);
      z-index: 0;
      transition: transform 0.3s ease-in-out;
      .block__head {
        height: 60px;
        width: 100%;
        position: absolute;
        background-color: lighten($end, 20%);
        background-color: #eaf0f3;

        border-bottom: solid 1px #82a7be;
        transform: rotateX(0deg);
        transition: transform 0.2s ease-in;
        top: 118px;
        h4 {
          position: absolute;
          left: 100px;
          top: 12px;
          font-size: 175%;
          margin: 0px;
          color: darken($end, 30%);
        }
        > em {
          display: block;
          width: 70px;
          height: 131px;
          position: absolute;
          left: 12px;
          top: 12px;
          &:before,
          &:after {
            content: "";
            position: absolute;
            display: block;
            opacity: 0;
            width: 80px;
            height: 80px;
            top: -5px;
            left: -7px;
            border-radius: 80px;
            background: white;
            transform-style: preserve-3d;
          }
          &:before {
            top: -19px;
            border-color: #fff;
          }
          &:after {
            width: 70px;
            height: 70px;
            background: transparent;
            border-radius: 70px;
            overflow: hidden;
            top: 0px;
            left: 0px;
            right: 0px;
            bottom: 0px;
          }
        }
      }

      .block__head.head-bottom {
        height: 90px;
        width: 100%;
        top: 0px;
        transform: rotateX(-180deg);
        perspective: 200px;
        transform-origin: top;
        z-index: 99;
        p {
          text-align: center;
          display: flex;
          justify-content: center;
          height: 45px;
          margin: 0px;
          display: flex;
          align-items: bottom;
          a {
            display: flex;
            color: #fff;
            background: #3e779d;
            align-items: center;
            justify-content: center;
            font-size: 120%;
            height: 45px;
            width: 100%;
          }
        }
        > em {
          top: -60px;

          &:before {
            top: -8px;
            border-color: #fff;
          }
        }
      }
    }
    .flipper.flipper-female {
      .block__head {
        background-color: lighten($femaleRed, 40%);
        border-color: lighten($femaleRed, 30%);
      }
      .block__head.head-bottom {
        background-color: lighten($femaleRed, 45%);
      }
      .head-bottom p > a {
        background: $femaleRed;
      }
      .head-top > h4 {
        color: $femaleRed;
      }
    }
  }
}




//ACTIVE
@keyframes spinOutline {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(350deg);
  }
}



body.active {
  .box.box-grid {
    // background-color:orchid !important;
    visibility: visible;
  }
  .box.box-grid.active {
    display: block;
    // box-shadow: 0px 1px 2px #222;
    height: 386px !important;
    background-color: lighten($end, 30%);
    visibility: visible;
    transition: height 0.2s ease-in, background-color 0.3s ease-in,
      transform 0.3s ease;
    * {
      visibility: visible;
    }
    &:after {
      content: "";
      display: block;
      position: absolute;
      width: 100%;
      height: 7px;
      background: $expandedNotes;
      bottom: -7px;
      right: -7px;
      left: auto;
    }
  }
  .box-grid.active {
    overflow: visible;
    transform: perspective(600px);
    position: relative;
    backface-visibility: hidden;
    
    .block__content,
    .block__title {
      position: absolute;
      backface-visibility: hidden;
    }

    .block__content{
      min-height:220px;
    }

    .block__title {
      width: 100%;
      display: flex;
      background: #a73561;
      height: 150px;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      top: 0px;
      color: #fff;
      transform-origin: bottom;
      transform: perspective(600px) rotateX(-180deg);
      transition: transform 0.5s ease;

      em {
        display: block;
        position: absolute;
        width: 80px;
        height: 80px;
        background: #a73561;
        border: solid 4px #fff;
        border-radius: 80px;
        top: -40px;
        left: 50%;
        transform: translateX(-50%);
        &:after {
          content: "";
          position: absolute;
          top: -2px;
          left: -2px;
          right: -2px;
          bottom: -2px;
          border-radius: 80px;
          outline: dashed 2px #cc0000;
          animation: spinOutline 1s linear infinite;
        }
      }

      h2 {
        margin: 35px 0px 2px 0px;
        clear: both;
        font-weight: normal;
      }
      p {
        margin: 0px;
        background: orange;
        a {
          text-decoration: none;
          color: #fff;
        }
      }
      ol.list__social {
        margin-top: 10px;
        > li {
          margin-right: 6px;
          a {
            display: block;
            width: 28px;
            height: 28px;
            border-radius: 28px;
            overflow: hidden;
            background: purple;
          }
        }
      }
    }

    .block__content {
      width: 100%;
      bottom: 0px;
    

      > ol {
        border-bottom: solid 1px orange;
        > li {
          margin-right: 3px;
          a {
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 30px;
            width: 100px;
            text-align: center;
            background: #eee;
          }
        }
      }
      .wrap__content-profile,
      .wrap__content-notes {
        display: none;
      }
     
    }
  }

 .box-grid{
  .wrap__content-profile {
    clear: both;
    background: #fff;
    display:block;
    > ul {
      position:relative;
      > li {
        height: 65px;
        border-bottom: solid 1px #a73561;
        clear: both;
        padding-left: 80px;
        position: relative;
        em {
          position: absolute;
          display: block;
          width: 71px;
          height: 41px;

          top: 8px;
          overflow: hidden;
          background-color: #ccc;
          background-image: url(../imgs/sprite/flag__sprite.png);
          background-position: -144px 0px;
          background-size: 215px 206px;
          transform: scale(0.75);

          left: 10px;
          top: 12px;
        }
        dt,
        dd {
          margin: 0px;
          font-size: 20px;
          padding-top: 0px;
          color: #026d9b;
        }
        dt {
          font-size: 13px;
          padding-top: 10px;
        }
      }
    }
  }
  .wrap__content-notes {
    background: plum;
  }

 }
  .box-grid.active {
    .block__content {
      > ol {
        > li:nth-child(1) {
          > a {
            background: purple;
          }
        }
      }
    }

    .wrap__content-profile {
      display: block;
    }
  }
  .box-grid.notes {
    .block__content {
      > ol {
        > li:nth-child(2) {
          > a {
            background: purple;
          }
        }
      }
    }
    .wrap__content-notes {
      display: block;
      min-height: 200px;
    }
  }

  .box-grid.flip {
    .block__title {
      transform: perspective(600px) rotateX(0deg);
    }
  }
}



